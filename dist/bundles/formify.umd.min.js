!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/forms","@angular/common"],e):e(o["ngx-formify"]={},o.ng.core,o.ng.forms,o.ng.common)}(this,function(o,e,t,r){"use strict";function n(o,e,t,r){var n,l=arguments.length,a=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,t,r);else for(var i=o.length-1;i>=0;i--)(n=o[i])&&(a=(l<3?n(a):l>3?n(e,t,a):n(e,t))||a);return l>3&&a&&Object.defineProperty(e,t,a),a}var l=function(){function o(){this.controlClass="",this.controlInnerClass="",this.onFileSelected=new e.EventEmitter}return o.prototype.fileSelected=function(o){for(var e=this,t=[],r=0,n=function(n){var l=o[n],a={lastModifiedDate:l.lastModifiedDate,name:l.name,size:l.size,type:l.type},i=new FileReader;i.addEventListener("load",function(){a.data=i.result,t.push(a),++r==o.length&&e.onFileSelected.emit(t)}),i.readAsArrayBuffer(l)},l=0;l<o.length;l++)n(l)},n([e.Input()],o.prototype,"formControl",void 0),n([e.Input()],o.prototype,"controlClass",void 0),n([e.Input()],o.prototype,"controlInnerClass",void 0),n([e.Output()],o.prototype,"onFileSelected",void 0),o=n([e.Component({selector:"formify-control",template:'<div class="formify-input" [class]="controlClass" [ngSwitch]="formControl.controlType">\n\t<input [class]="controlInnerClass" *ngSwitchCase="\'Input\'" [placeholder]="formControl.placeholder" [formControl]="formControl" type="text" />\n\t<textarea [class]="controlInnerClass" *ngSwitchCase="\'TextArea\'" [placeholder]="formControl.placeholder" [formControl]="formControl"></textarea>\n\t<select [class]="controlInnerClass" *ngSwitchCase="\'Select\'" [formControl]="formControl">\n\t\t<option *ngFor="let option of formControl.options" [value]="option.data">{{option.label}}</option>\n\t</select>\n\t<div *ngSwitchCase="\'Radio\'">\n\t\t<div *ngFor="let option of formControl.options" class="formify-radio-line">\n\t\t\t<input [class]="controlInnerClass" [value]="option.data" [formControl]="formControl" type="radio" /><span class="formify-radio-label">{{option.label}}</span>\n\t\t</div>\n\t</div>\n\t<div class="formify-checkbox-line" *ngSwitchCase="\'Checkbox\'">\n\t\t<input [class]="controlInnerClass" [formControl]="formControl" type="checkbox" /><span class="formify-checkbox-label">{{formControl.placeholder}}</span>\n\t</div>\n\t<input [class]="controlInnerClass" *ngSwitchCase="\'Password\'" [placeholder]="formControl.placeholder" [formControl]="formControl" type="password" />\n\t<input [class]="controlInnerClass" *ngSwitchCase="\'File\'" [formControl]="formControl" type="file" (change)="fileSelected( $event.target.files )" />\n</div>'})],o)}(),a=function(){function o(){this.formClass="",this.controlClass="",this.controlInnerClass="",this.onFileSelected=new e.EventEmitter,this.keys=[]}return o.prototype.ngOnInit=function(){this.keys=Object.keys(this.formGroup.controls)},o.prototype.ngOnChanges=function(o){this.keys=Object.keys(this.formGroup.controls),console.log(o)},o.prototype.fileSelected=function(o,e){this.onFileSelected.emit({files:o,formControlName:e})},n([e.Input()],o.prototype,"formGroup",void 0),n([e.Input()],o.prototype,"formClass",void 0),n([e.Input()],o.prototype,"controlClass",void 0),n([e.Input()],o.prototype,"controlInnerClass",void 0),n([e.Output()],o.prototype,"onFileSelected",void 0),o=n([e.Component({selector:"formify",template:'<div class="formify" [class]="formClass">\n\t<formify-control *ngFor="let control of keys" [formControl]="formGroup.controls[control]" [controlClass]="controlClass" [controlInnerClass]="controlInnerClass" (onFileSelected)="fileSelected( $event, control )" ngDefaultControl></formify-control>\n</div>\n'})],o)}(),i=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return function(o,e){function t(){this.constructor=o}for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,o),e}(t.FormControl),s=function(){function o(){}return o.prototype.build=function(o){var e,r=new t.FormGroup({});if(o&&(e=new o),e){var n=[],l=!0;for(var a in e){var s=e[a+"-form-metadata"];s&&(n.push(s),s.order&&(l=!1))}l||(n=n.sort(function(o,e){return(void 0!==o.order?o.order:Number.MAX_VALUE)-(void 0!==e.order?e.order:Number.MAX_VALUE)})),n.forEach(function(o){var e=new i;e.setValue(o.defaultValue||""),e.setValidators(o.validators||[]),e.placeholder=o.placeholder||"",e.controlType=o.type,e.options=o.options,r.addControl(o.name,e)})}return r},o=n([e.Injectable()],o)}();!function(o){o.Input="Input",o.TextArea="TextArea",o.Select="Select",o.Radio="Radio",o.Checkbox="Checkbox",o.Password="Password",o.File="File"}(o.FormControlType||(o.FormControlType={}));var c=function(){function o(){}return o=n([e.NgModule({imports:[r.CommonModule,t.FormsModule,t.ReactiveFormsModule],declarations:[l,a],providers:[s],exports:[l,a]})],o)}();o.FormifyModule=c,o.FormControlComponent=l,o.FormComponent=a,o.FormGroupService=s,o.FormControl=function(o,e){var t=e||{};return function(e,r){Object.defineProperties(e,(n={},n[r+"-form-metadata"]={value:{name:r,type:o,order:t.order,placeholder:t.placeholder,validators:t.validators,defaultValue:t.defaultValue},enumerable:!1,configurable:!1},n));var n}},o.FormSelectControl=function(o,e,t){return function(r,n){var l=t||{};Object.defineProperties(r,(a={},a[n+"-form-metadata"]={value:{name:n,type:o,order:l.order,validators:l.validators,defaultValue:l.defaultValue,options:e},enumerable:!1,configurable:!1},a));var a}},o.FormFileControl=function(e){var t=e||{};return function(e,r){Object.defineProperties(e,(n={},n[r+"-form-metadata"]={value:{name:r,type:o.FormControlType.File,order:t.order},enumerable:!1,configurable:!1},n));var n}},Object.defineProperty(o,"__esModule",{value:!0})});